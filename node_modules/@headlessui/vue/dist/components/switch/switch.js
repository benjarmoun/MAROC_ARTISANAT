import{Fragment as x,computed as C,defineComponent as s,h as d,inject as E,provide as L,ref as f}from"vue";import{render as m,compact as j}from"../../utils/render.js";import{useId as G}from"../../hooks/use-id.js";import{Keys as y}from"../../keyboard.js";import{Label as H,useLabels as V}from"../label/label.js";import{Description as I,useDescriptions as T}from"../description/description.js";import{useResolveButtonType as B}from"../../hooks/use-resolve-button-type.js";import{Hidden as F,Features as M}from"../../internal/hidden.js";import{attemptSubmit as O}from"../../utils/form.js";let b=Symbol("GroupContext"),X=s({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(l,{slots:a,attrs:i}){let n=f(null),u=V({name:"SwitchLabel",props:{onClick(){!n.value||(n.value.click(),n.value.focus({preventScroll:!0}))}}}),t=T({name:"SwitchDescription"});return L(b,{switchRef:n,labelledby:u,describedby:t}),()=>m({props:l,slot:{},slots:a,attrs:i,name:"SwitchGroup"})}}),Y=s({name:"Switch",emits:{"update:modelValue":l=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:!1},name:{type:String,optional:!0},value:{type:String,optional:!0}},inheritAttrs:!1,setup(l,{emit:a,attrs:i,slots:n,expose:u}){let t=E(b,null),p=`headlessui-switch-${G()}`;function c(){a("update:modelValue",!l.modelValue)}let h=f(null),r=t===null?h:t.switchRef,S=B(C(()=>({as:l.as,type:i.type})),r);u({el:r,$el:r});function w(e){e.preventDefault(),c()}function v(e){e.key===y.Space?(e.preventDefault(),c()):e.key===y.Enter&&O(e.currentTarget)}function g(e){e.preventDefault()}return()=>{let{name:e,value:R,modelValue:o,...k}=l,D={checked:o},K={id:p,ref:r,role:"switch",type:S.value,tabIndex:0,"aria-checked":o,"aria-labelledby":t==null?void 0:t.labelledby.value,"aria-describedby":t==null?void 0:t.describedby.value,onClick:w,onKeyup:v,onKeypress:g};return d(x,[e!=null&&o!=null?d(F,j({features:M.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:o,name:e,value:R})):null,m({props:{...i,...k,...K},slot:D,attrs:i,slots:n,name:"Switch"})])}}}),Z=H,ee=I;export{Y as Switch,ee as SwitchDescription,X as SwitchGroup,Z as SwitchLabel};
